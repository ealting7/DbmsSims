@model DbmsSims.Models.ICMS2.ViewModels.NotesViewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}




@using (Html.BeginForm("AddNote", "MemberProfile", FormMethod.Post))
{


    <div class="container">

        <div class="row">

            <div class="col">
                <h2>@Model.Type Notes</h2>
            </div>

        </div>




        @* BILLING CODE AND MINUTES *@
        <div class="form-group">

            <div class="row">

                <div class="col">

                    <div class="col">
                        <label>Code</label>
                    </div>

                    <div class="col">
                        @Html.DropDownListFor(m => m.BillingId, new SelectList(Model.billcodes, "billing_id", "billing_description"), "- Please Select -")
                    </div>



                    <div class="col">
                        <label>Minutes</label>
                    </div>

                    <div class="col">
                        @Html.DropDownListFor(m => m.BillingMinutes, new SelectList(Model.billminutes, "BillMinutes", "MinuteDisplay"), "- Please Select -")
                    </div>

                </div>

            </div>

        </div>



        @* NOTE ENTRY *@
        <div class="form-group">

            <div class="row">

                <div class="col">

                    <div class="col">
                        <label>New Note</label>
                    </div>

                </div>


                    <div class="maximum-width">
                        @Html.TextAreaFor(m => m.NoteText, new { style = "width: 100%; max-width: 100%; height: 150px;" })
                    </div>


            </div>

        </div>



        @* SUBMIT AND SUSPEND BUTTONS *@
        <div class="row">

            <div class="form-group">

                <div class="col">
                    <input type="submit" value="Submit" class="btn btn-primary" />
                    <input type="button" value="Suspend" class="btn btn-primary" />
                </div>

            </div>

        </div>






        @* EXITING NOTES *@
        <div class="row border-top-divider">

            <div class="col">

                <div class="form-group">

                    <div class="col">
                        <label>Existing Notes</label>
                    </div>

                    <div class="col">


                        @if (Model != null)
                        {

                            <table class="table">

                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Code</th>
                                        <th>Minutes</th>
                                        <th>Note</th>
                                    </tr>
                                </thead>


                                @foreach (var member in Model.notes)
                                {

                                    <tbody>
                                        <tr>

                                            <td> @member.RecordDate </td>

                                            <td> @member.BillingId </td>

                                            <td> @member.BillingMinutes </td>

                                            <td> @member.NoteText </td>

                                        </tr>
                                    </tbody>

                                }


                            </table>

                        }


                    </div>

                </div>

            </div>

        </div>

    </div>

}